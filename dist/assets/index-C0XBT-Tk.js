import{f as I,h as C,u as F,i as L,r as a,j as e,d as z,k as l,e as P}from"./index-CRMG5bzS.js";import{s as D,I as c,a as d}from"./sign-up-DhXDsxRE.js";import{F as h,B as M}from"./use-form-control-CQKzOfDr.js";import{F as x}from"./form-label-DNixU9Oj.js";import{I as m}from"./input-BfnAPdur.js";import{K as T}from"./key-BWXZw050.js";import"./children-aMr2zYAb.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],q=I("id-card",W),U=()=>{const p=C(),u=F(),{setUser:f}=L(),[o,g]=a.useState(""),[j,w]=a.useState(""),[i,b]=a.useState(""),[v,n]=a.useState(!1),y={email:o,password:i},N=async r=>{r.preventDefault(),w(""),n(!0);try{const s=await P.post("/api/auth/user/login",y),{id:t,email:S,full_name:E,role:k}=s.data.user;f({id:t,email:S,full_name:E,role:k}),window.location.href=l.dashboard.index}catch(s){let t="Login Failed";s.response?s.response.data?.details?t=s.response.data.details:s.response.data?.message?t=s.response.data.message:s.response.statusText&&(t=s.response.statusText):s.request?t="No response received from server":t=s.message||"Error setting up request",u({title:t,status:"error",position:"top-right"}),console.error(j)}finally{n(!1)}};return e.jsxs("div",{className:"flex flex-col p-10 items-center text-white justify-center",style:{backgroundImage:`url("${D}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",minHeight:"100vh",width:"100%"},children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[e.jsx(z,{className:"w-20",showText:!1}),e.jsx("p",{className:"font-semibold text-xl",children:"Login NAOWA Staff"})]}),e.jsx("div",{className:"w-[40vw] rounded-3xl text-sm border border-white bg-white/10 backdrop-blur-sm p-6",style:{boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)"},children:e.jsxs("div",{className:"mt-6",children:[e.jsxs(h,{fontWeight:"light",className:"mt-4 mb-3",children:[e.jsx(x,{fontWeight:"light",fontSize:13,className:"text-white",children:"Staff ID Or Email"}),e.jsxs(c,{children:[e.jsx(d,{pointerEvents:"none",children:e.jsx(q,{color:"white"})}),e.jsx(m,{fontSize:13,type:"text",placeholder:"Staff ID or Email",borderColor:"white",value:o,onChange:r=>g(r.target.value)})]})]}),e.jsxs(h,{fontWeight:"light",className:"mt-4 mb-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(x,{fontWeight:"light",fontSize:13,className:"text-white",children:"Password"}),e.jsx("p",{className:"text-[#ECF15E] cursor-pointer",children:"Forgot Password?"})]}),e.jsxs(c,{children:[e.jsx(d,{pointerEvents:"none",children:e.jsx(T,{color:"white"})}),e.jsx(m,{fontSize:13,type:"password",placeholder:"Password",borderColor:"white",value:i,onChange:r=>b(r.target.value)})]})]}),e.jsx("p",{className:"text-xs text-blue-500",children:"Minimum length is 8 characters"}),e.jsx(M,{color:"white",mt:5,mb:2,width:"full",bg:"#982323",onClick:N,isLoading:v,children:"Staff Sign In"}),e.jsxs("p",{className:"text-xs text-blue-500 mt-4 text-center",children:["Do not have an account? ",e.jsx("span",{className:"cursor-pointer text-[#ECF15E]",onClick:()=>p(l.auth.register.index),children:"Sign Up"})]})]})}),e.jsxs("div",{className:"text-gray-200 text-xs flex gap-2 items-start mt-4",children:[e.jsx("p",{children:"Terms"}),e.jsx("p",{children:"•"}),e.jsx("p",{children:"Privacy"}),e.jsx("p",{children:"•"}),e.jsx("p",{children:"Docs"}),e.jsx("p",{children:"•"}),e.jsx("p",{children:"Helps"})]})]})};export{U as default};
