import{e as g,r as t,j as e,L as u,A as f}from"./index-CRMG5bzS.js";import{D as y}from"./index-D2SIzbjx.js";import{C as j,a as v,T as b}from"./trending-up-down-DloR7GsE.js";import{L as N}from"./library-big-LrgyZfRD.js";import{B as S}from"./badge-DiIJR_EX.js";import"./text-DC-W0PyF.js";import"./use-form-control-CQKzOfDr.js";import"./children-aMr2zYAb.js";import"./fade-BWbPEriw.js";import"./select-C_HCPDtk.js";import"./key-BWXZw050.js";const A=async()=>{try{return(await g.get("/api/savings")).data}catch(r){throw console.error("Error fetching savings:",r),r}},H=()=>{const[r,i]=t.useState([]),[l,m]=t.useState(0),[d,c]=t.useState(!0),[n,p]=t.useState(null);if(t.useEffect(()=>{(async()=>{try{const o=await A(),h=o.savings.map(s=>({id:s.id,name:`${s.member?.full_name||""}
            `.trim()||"N/A",serviceNumber:s.reference||"N/A",email:s.member?.email||"N/A",phone:s.member?.phone||"N/A",savingsType:s.category?.name||"Normal",amount:parseFloat(s.amount)||0}));i(h),m(o.total||0)}catch(o){console.error("Error fetching savings:",o),p("Failed to load savings.")}finally{c(!1)}})()},[]),d)return e.jsx("p",{children:e.jsx(u,{})});if(n)return e.jsx("p",{children:n});const x=[{title:"Name",dataIndex:"name",key:"name",render:a=>e.jsxs("span",{className:"flex items-center gap-2 font-medium",children:[e.jsx(f,{name:a,size:"sm"})," ",a]})},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone",dataIndex:"phone",key:"phone"},{title:"Savings Type",dataIndex:"savingsType",key:"savingsType",render:a=>e.jsx(S,{colorScheme:a==="Normal"?"blue":"green",px:3,py:1,borderRadius:"full",children:a})},{title:"Amount",dataIndex:"amount",key:"amount",render:a=>e.jsxs("span",{className:`font-semibold ${a<0?"text-red-600":"text-green-600"}`,children:["₦",a.toLocaleString()]})}];return e.jsxs("div",{className:"mt-10",children:[e.jsx(j,{className:"w-[300px] transition-all mb-10 duration-300 ease-in-out hover:border-black hover:border-2 hover:shadow-xl hover:-translate-y-1 cursor-pointer",children:e.jsxs(v,{className:"shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Savings"}),e.jsxs("p",{className:"text-2xl font-bold",children:["₦",l.toLocaleString()]})]}),e.jsx("div",{className:"p-2 rounded-lg transition-transform duration-300 hover:scale-110",style:{background:"#9F7AEA"},children:e.jsx(N,{size:20,color:"white"})})]}),e.jsxs("p",{className:"flex items-center gap-2 pt-4 text-sm text-gray-500",children:[e.jsx(b,{size:16,color:"#38A169"}),e.jsx("p",{children:"from yesterday"})]})]})}),e.jsx(y,{data:r,columns:x,rowKey:"id",tableHeaderBg:"#F1F4F9",tableHeaderColor:"black"})]})};export{H as default};
